<html>
<head>
<title>test</title>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


<script src="hls/hls.min.js"></script>
<style>
    video {
        width: 100%;
    }

    .dash-video-player {
        position: relative;
        /* This position relative is needed to position the menus */
        width: 640px;
        margin: 0 auto;
    }

    .video-controller button[data-state="play"] {
        background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDgwMCA4MDAiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDgwMCA4MDAiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnIGlkPSJMYXllcl8xIj48cGF0aCBkPSJNNzcxLjksNDAwYzAsMjA1LjMtMTY2LjYsMzcxLjktMzcxLjksMzcxLjlTMjguMSw2MDUuMywyOC4xLDQwMFMxOTQuNywyOC4xLDQwMCwyOC4xICAgUzc3MS45LDE5NC43LDc3MS45LDQwMHoiIGZpbGw9IiM0REI2QUMiLz48L2c+PGcgaWQ9IkxheWVyXzIiPjxnPjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMTYiIHgxPSIzMjMuMyIgeDI9IjMyMy4zIiB5MT0iMjM1LjkiIHkyPSI1NjQuMSIvPjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMTYiIHgxPSIzMjMuMyIgeDI9IjU1MC40IiB5MT0iMjM1LjkiIHkyPSI0MDAiLz48bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjE2IiB4MT0iNTUwLjQiIHgyPSIzMjMuMyIgeTE9IjQwMCIgeTI9IjU2NC4xIi8+PC9nPjwvZz48L3N2Zz4=');
    }

    .video-controller button[data-state="play"],
    .controls button[data-state="pause"] {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 50px;
        height: 50px;
        margin: -25px -25px;
    }

    button[data-state="play"] {
        background-image: url(@@pause-icon);
    }

    button[data-state="pause"] {
        background-image: url(@@play-icon);
    }

    .scale-button (@@scale: 1) {
        // scale only above @@small-screen-below @@media only screen and (min-width: @@small-screen-below)

    {
        -webkit-transition: all 200ms ease-in;
        -webkit-transform: scale(@@scale);
        -ms-transition: all 200ms ease-in;
        -ms-transform: scale(@@scale);
        -moz-transition: all 200ms ease-in;
        -moz-transform: scale(@@scale);
        transition: all 200ms ease-in;
        transform: scale(@@scale);
    }
    }
</style>
</head>
<body>

<div class="dash-video-player code">
    <!-- HTML structure needed for the ControlBar -->
    <div class="videoContainer" id="videoContainer">
        <video id="hlsvideo" preload="auto" autoplay="true"> </video>
      
    </div>
</div>


<script type="text/javascript">
    var x; var player;
    function startVideo() {
       // //const url = 'D://mediaserver//Harmonic-master//Harmonic-master//livecontent//index.mpd';
       //// var url = "https://bitmovin-a.akamaihd.net/content/sintel/sintel.mpd";
       // var durl = "/live/Stream_Name/index.mpd";
       // var hurl = "/live/Stream_Name/index.m3u8";
       // //var url="output/stream.mpd";
       // //var url="tero/master.m3u8";
       // var videoElement = document.getElementById('dashvideo');

       // var player = dashjs.MediaPlayer().create();
       // x = player;
       // player.initialize(videoElement, durl, true);
       // var controlbar = new ControlBar(player);
       // controlbar.initialize();

       // player.on(dashjs.MediaPlayer.events.BUFFER_LEVEL_STATE_CHANGED, function (x) { console.log('hidw', x) });
       // player.on(dashjs.MediaPlayer.events.BUFFER_EMPTY, function (x) { console.log('show', x) });

        var hurl = "live/test/index.m3u8";
        var video = document.getElementById('hlsvideo');
      
        if(Hls.isSupported()) {
            var hls = new Hls();
            hls.loadSource(hurl);
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED,function() {
                video.play();
            });
            player = hls;
        }
        // hls.js is not supported on platforms that do not have Media Source Extensions (MSE) enabled.
        // When the browser has built-in HLS support (check using `canPlayType`), we can provide an HLS manifest (i.e. .m3u8 URL) directly to the video element through the `src` property.
        // This is using the built-in support of the plain video element, without using hls.js.
        // Note: it would be more normal to wait on the 'canplay' event below however on Safari (where you are most likely to find built-in HLS support) the video.src URL must be on the user-driven
        // white-list before a 'canplay' event will be emitted; the last video event that can be reliably listened-for when the URL is not on the white-list is 'loadedmetadata'.
        else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            video.src = hurl;
            video.addEventListener('loadedmetadata',function() {
                video.play();
            });
        }

    }

    startVideo();

</script>
</body>
</html>